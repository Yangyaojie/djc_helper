# 更新公告
1. 修复未购买付费内容的dlc用户无法获取免费的两个月时长的bug
2. 兼容编年史连续签到的奖励列表可能返回null的问题
3. 个人信息增加打印累计购买数据
4. 购买记录增加reason，区分获取来源
5. 调整付费信息配色
6. 其他改动及上述功能具体用法，详见README.MD和CHANGELOG.MD以及使用教程/使用文档.docx和教程视频

# v6.0.2 2021.2.8
## bugfix
1. 修复未购买付费内容的dlc用户无法获取免费的两个月时长的bug
2. 兼容编年史连续签到的奖励列表可能返回null的问题

## 提示优化
1. 个人信息增加打印累计购买数据
2. 购买记录增加reason，区分获取来源
3. 调整付费信息配色

# v6.0.1 2021.2.6
## 付费
1. 购买过自动更新DLC的用户可以获得自2020-02-07 00:00:00开始累计两个月的免费使用付费功能的时长

# v6.0.0 2021.2.6
## 付费
1. 2.2号添加了一个付费弹窗，但是截至2.6晚上六点，仅有不到百分之一的使用者进行了付费。考虑到近日来花在维护小助手上的时间比较久，因此本人决定，自2021-02-06 00:00:00之后添加的所有短期活动都将只能在付费生效期间使用，此前已有的功能（如道聚城、心悦）或之后出的长期功能都将继续免费使用。目前定价为5元每月（31天）。使用源码运行将不受该限制，但是使用我的打包二进制时，只有付费生效期间才能运行上述日期后的短期新活动，各位可自行决定通过付费激活还是自己研究如何使用源码去运行~
2. 增加按月付费脚本

## 活动调整
1. 接入 dnf助手 牛气冲天迎新年 活动

## 流程调整
1. 因现在同一个好友只能赠送一次，调整马杰洛赠送好友和领取奖励功能（不会实际发消息）
2. 编年史兑换增加等级判断
3. 部分弹窗改为异步进行，不影响主流程

## 文案调整
1. 调整邀请好友相关的注释描述

## 其他
1. 燃放爆竹配置中漏了开关

## 基础设施
1. 调整ConfigInterface的序列化方式，改为通过转化为原生类型来操作，从而可以直接序列化为json


# v5.9.1 2021.2.3
## 流程调整
1. 当无法访问github的时候，判断距离上次更新是否已经很久，若是，则提示可能有更新内容

## 其他
1. 请求送一张Q版赛利亚卡片
2. 目录中增加网盘链接

# v5.9.0 2021.2.2
## 活动维护
1. 接入新的编年史活动
2. 接入新的管家活动
3. 接入新的qq视频活动
4. 增加qq黄钻和超级会员新活动的提示
5. 移除过期的 DNF共创投票、史诗之路来袭活动合集、hello语音网页礼包兑换 活动

## 恰饭
1. 移除大版本弹窗和每周弹窗
2. 每月首次运行时弹出打赏提示，依据小助手本月带来的便利和领取的蚊子腿数目，自行决定是否打赏，以及打赏金额。毕竟用爱发电不能持久，人毕竟是要恰饭的ლ(╹◡╹ლ)。如果每月有不少朋友支持的话，那么自然也更乐意抽出部分玩dnf的空闲时间来更新维护小助手啦。

## 代码重构
1. 重构管家活动，方便后续接入
2. 重构qq视频活动，方便后续接入

## 提示优化
1. 调整疲劳药注释

# v5.8.3 2021.1.31
## 其他
1. 更新黑名单

# v5.8.2 2021.1.31
## 活动维护
1. 燃放爆竹查询好友有时候会无法成功，故而本地加个缓存，一次请求所有好友QQ列表，这样只要请求成功一次就够活动期间使用了

# v5.8.1 2021.1.30
## 恰饭
1. DNF公众号扫码活动提示先取消关注公众号，然后再扫码，这样才能助力成功0-0

# v5.8.0 2021.1.29
## 活动维护
1. 新增 新的会员关怀活动（新春关怀送好礼 助力男法师三觉）
2. 调整爆竹活动分享任务，每次需要分享不同的好友（不会实际发送消息）
3. 重构会员关怀活动，简化接入新关怀活动流程

## 流程优化
1. 兼容下心悦信息查不到的情况

# v5.7.1 2021.1.28
## 恰饭
1. 首次运行时请求用小助手的朋友们帮忙扫下DNF公众号活动的二维码，点下关注

# v5.7.0 2021.1.28
## 活动维护
1. 新增 燃放爆竹 活动

## 流程优化
1. 增加检测数据库是否损坏的流程，并自动初始化
2. 抽取结束时间提示为通用流程

## 提示优化
1. 报错时在末端也打印额外信息，方便看到
2. 打印个人信息时尝试截断，确保显示符合预期

# v5.6.4 2021.1.27
## 活动维护
1. 移除过期活动

## 提示优化
1. 账号信息增加打印赛利亚卡牌
2. 调整绑定时的配色，更加易读

## 其他
1. 似乎很多人找不到付款码，增加复制一份付款码，并命名为DLC付款码
2. 增加清除登录信息的批处理文件
3. lean cloud api又到上限了，仅保留活跃用户数的上报和统计

# v5.6.3 2021.1.24
## 恰饭
1. 首次运行时请求帮忙做下叶子猪的分享活动（进去填手机和qq，再戳下生成专属链接按钮）

# v5.6.2 2021.1.23
## 活动维护
1. wegame活动改了地址和内容
2. 新增福利兑换口令

# v5.6.1 2021.1.23
## 活动维护
1. 新增 DNF新春福利集合站 活动

# v5.6.0 2021.1.23
## 活动维护
1. 新增马杰洛第三期
2. 增加新春福袋大作战的赠送功能，但是由于会真的发消息（这次真的是真的）给对方，所以请自行探索配置方式，若无头绪则可当这个功能不存在

## 流程
1. 各个活动统一增加try except装饰器保护，从而避免单个活动的问题导致其他活动也无法运行
2. try_except判断一些常见的错误，并增加更容易理解的补充说明

## 其他
1. 首次运行新春福袋大作战时弹出福袋提示框

## 基础设施
1. amesvr_request增加支持传入额外cookies

# v5.5.2 2021.1.21
## bugfix
1. 处理无存档时的情况

## 提示优化
1. 特判没找到modRet的情况，提示可能是活动过期了

# v5.5.1 2021.1.21
## bugfix
1. qq空间登录也需要获取skey后，若是旧版本存档，视作已过期

# v5.5.0 2021.1.21
## 活动维护
1. 重新启用福利兑换，并增加新的游戏签到活动
2. 增加 提示参与 万物皆新意 牛转阿拉德 活动
3. 新增wegame春节活动 新春献豪礼 首次盲盒限时领
4. 新增新春福袋大作战的邀请外内容
5. 移除过期的马杰洛活动

## 流程调整
1. qq空间登录时额外保存skey、vuserid等信息，并优先进行qq空间登录。从而在检查skey的时候先尝试使用qq空间获取的skey，如果可用则能减少登陆次数

## 基础设施
1. 新增捕获所有异常的装饰器，用于保护新加的活动，避免因新活动导致其他活动不可用

# v5.4.2 2021.1.19
## 流程调整
1. 赠送完卡片尝试领取奖励

## 文案调整
1. 更新dlc检测提示文案
2. 新版本首次运行时打印更新说明，并提示自动更新对配置文件的处理方式
3. 调整浏览器说明，使其更加易懂
4. dlc购买提示中增加付款二维码位置提示

# v5.4.1 2021.1.18
## 流程调整
1. 仅在自动登录模式下检查switcher_plogin元素是否存在，以避免点击头像快捷登录会报错
2. 自动登录时额外增加一个提示
3. 自动登录和二维码登录的特有逻辑移到其登录函数中去处理
4. 移除need_human_operate参数

# v5.4.0 2021.1.18
## 活动维护
1. 新增DNF新春夺宝大作战
2. 重新启用hello语音兑换功能

## 自动更新DLC
1. 新增校验机制，仅本地登录所有账户中有任意账户在指定名单内才允许使用自动更新DLC

## 流程调整
1. 隐藏浏览器配置改为仅在自动登录模式下生效
2. iframe切换后等待一会，确保元素都加载出来

## 提示调整
1. dnf论坛补充说明
2. 论坛增加限定词，说明是官方论坛
3. 修改集卡时间
4. 调整基于github检查更新时请求失败时的错误提示

# v5.3.0 2021.1.15
## 新活动
1. 接入新的集卡活动 超萌雪人送祝福
2. 增加集卡特别版DLC

## 流程优化
1. qq空间登录完成后等待一会再刷新页面，避免处于未登录状态
2. 集卡概览改为只显示一次
   
## 提示调整
1. 若调用自动更新工具能正常返回，则说明已是最新版本，增加提示说明
2. 增加提示短信验证的情况，提示关闭自动处理验证码功能
3. 增加蓝奏云挂了时的提示信息
4. 完善关闭特定登陆类型的描述
5. 增加qq视频在线30分钟失败的提示
6. 修复因为>导致生成文件的问题

## 代码重构
1. 使用f-string重写各个字符串，增加代码可读性
2. 重构编译脚本，方便后续扩展

# v5.2.1 2021.1.12
## 自动处理滑动验证码
1. 修复若验证码相关元素未加载完毕的时候，获取不到对应宽度，导致后续死循环的问题

## 提示优化
1. 多次登录均失败后，显式跑出网络错误异常，并打印提示信息
2. 调整论坛签到重试逻辑
3. 根据测试结果，论坛已签到和成功签到的前缀不同，适配一下
4. 调整论坛配置的提示信息
5. 增加调整标题的功能

# v5.2.0 2021.1.11
## 自动处理滑动验证码
1. 新增自动处理滑动验证码功能
2. 新增滑动验证码开关和相关配置
3. 新增基于本地运行记录自动改进的尝试解锁方案

## 新活动维护
1. 增加dnf论坛签到以及兑换活动
2. 增加qq会员关怀活动

## 流程调整
1. 调整绑定检查逻辑，当发现未绑定时，提醒绑定后不直接退出，而是等待其绑定后尝试下一次检测
2. qq视频活动未绑定接入通用逻辑
3. 当道聚城未绑定dnf角色时，将不尝试自动绑定
4. 调整账号提示文案及日志颜色

## 提示优化
1. token说明分为两行，更容易阅读

## 其他
1. 若.no_max_console文件存在，则不在启动时最大化窗口
2. 若工作目录存在.min_console文件，则启动时自动最小化
3. readme增加使用镜像clone的方式

# v5.1.1 2021.1.9
## 自动绑定
1. 为支持自动绑定，各个amesvr活动的操作函数统一增加extra_params不定参数，用于传入绑定所需参数

## 活动维护
1. 移除过期的集卡活动

## 配置调整
1. 将账号密码相关配置往前挪，更容易定位
2. 修改默认账号名和密码提示

## 提示优化
1. 特殊处理qq视频的回包，这样结果可以更清晰

# v5.1.0 2021.1.9
## 自动绑定
1. 新增自动绑定新活动为道聚城绑定角色的功能，并默认打开

# v5.0.3 2021.1.8
## 活动维护
1. 新增qq视频-看江湖有翡活动

## 提示优化
1. 额外说明一下未获取到token的链接的情况
2. 额外说明助手活动需要token

# v5.0.2 2021.1.5
## 黑名单
1. 增加黑名单功能
2. 接入黑名单，不允许特定人使用本工具

## bugfix
1. 修复无法领取闪光杯每周闪光奖励的问题

## 提示优化
1. 自动更新启动成功时增加打印更新内容
2. 增加配置，可调整日志等级对应颜色（如不喜欢error级别的大红色，可以自行改为红色）

## 其他调整
1. 管家抽奖的错误码判定范围扩大
2. 投票活动超过200次后不再尝试投票

# v5.0.1 2021.1.3
## 显示优化
1. 账号概览增加展示上闪光杯出货数

## 配置调整
1. 增加全局禁用开关，方便小号关闭特定活动以外的所有活动

# v5.0.0 2021.1.2
## DLC：自动更新
1. 新增可付费获取的DLC：自动更新功能（未购买则保持与之前版本的更新流程一致）
2. DLC支持增量更新与全量更新

## 功能维护
1. 新增活动合集页面及指向的其他活动中的单次性奖励tips提示手动领取
2. 新增史诗之路来袭活动合集
3. 新增QQ视频蚊子腿（开启史诗之路 欢聚美好时光）
4. 移除过期的赛利亚打工活动
5. 移除过期的阿拉德勇士征集令活动
6. 移除过期的编年史活动
7. 移除过期的hello语音网页礼包兑换
8. 移除过期的DNF福利中心兑换活动

## 流程变动
1. 自动更新后首次运行时展示更新内容

## bugfix
1. 修复未启用道聚城且账号未绑定任意手游时会出错的问题

# v4.6.7 2020.12.31
## 提示优化
1. 检查未绑定账号时，将未绑定的账号列表打印出来
2. 修复闪光杯未报名时会出错的问题，并提示一下去报名
3. 更新抽卡结束时间
4. 修正多次登录出错时login_type会重复添加后缀信息的问题

## 流程优化
1. 管家登录兼容下出验证码的情况
2. 移除运行成功时弹出打赏图片的功能和配置，仅保留每周首次运行的时候弹一次的功能

## 自动更新
1. 添加自动更新所需的一些基础设施

# v4.6.6 2020.12.30
## 活动维护
1. 新增管家DNF暖冬献礼活动
2. 封装一下管家的活动，减少后面需要改的内容

## 提示调整
1. 增加展示漂流瓶历史累计分数
2. 漂流瓶发送邀请时额外根据回包判断是否到达上限
3. 增加展示闪光杯本周获得装备数目
4. 兼容处理漂流瓶领取邀请积分到达上限的情况

## 其他
1. 角色名统一进行url编码，避免包含特殊符号
2. log文件改为实际写入时才创建
3. 仅启用管家活动的时候才尝试获取管家pskey

# v4.6.5 2020.12.28
## 调整使用统计
1. 因LeanCloud免费计数达到上限（30k），导致无法准确计数，因此移除当前版本的使用计数，只保留所有版本的使用计数，额外留出一半的配额。

# v4.6.4 2020.12.28
## 活动维护
1. 开放闪光杯第三期功能
2. 移除过期的嘉年华活动

## bugfix
1. 通用填充逻辑处不统一施加urlencode，而是外部调用处去做这件事，避免某些不该encode的地方也被encode了
2. 中文参数需要编码一下

## 其他
1. 每周一弹出打赏图片前，额外弹出一段话，显示累积使用时长，以及说明信息
2. 将请求失败次数和等待时长最后打印

## 配置调整
1. 加长默认请求等待和重试时间

# v4.6.3 2020.12.26
## 新活动
1. 新增暖冬有礼活动

## 活动维护
1. 增加漂流瓶每日邀请列表（建议只填小号，因为真的会发消息给对方）(配置项默认不加入配置文件，有兴趣自行者自行看源码确认配置方式）
2. 增加马杰洛黑钻送好友邀请列表（建议只填小号，因为真的会发消息给对方）(配置项默认不加入配置文件，有兴趣自行者自行看源码确认配置方式）

# v4.6.2 2020.12.25
## 新活动
1. 适配闪光杯第三期（暂不开放）

## bugfix
1. 过滤参数加下兼容，当解析出错时，打印日志并返回原始url
2. 解决opened可能不存在的问题
3. 渲染url参数的时候，需要将value进行url encode

# v4.6.1 2020.12.25
## 新活动
1. 新增史诗之路活动的指引（太小了，只提示网页，不实际实现）
2. 新增dnf漂流瓶活动
3. 新增马杰洛的规划活动
4. 增加dnf双旦活动

## 恰饭
1. 当添加了多个活动的版本发布时，弹出一条恰饭信息

## 信息提示
1. 增加提示拉取点赞内容流程

## 重构代码
1. 抽取通用指引逻辑，并在命令行额外打印日志
2. 过滤未填充的参数，避免某些参数影响其他请求

# v4.6.0 2020.12.22
## 新活动
1. 增加支持心悦app理财礼卡活动（由于有个比较诡异的问题暂时无法确认根源，所以暂不开放给一般用户，有兴趣的朋友可以自己看源码发现开启的方式）
2. 增加2020DNF嘉年华直播活动（由于性质不太好，不开放给一般用户，有兴趣的朋友可以自己看源码）
3. 增加dnf福利中心兑换和三次签到功能
4. 增加dnf共创投票逻辑

## 配置改动
1. 调整开启消耗所有卡片来抽奖的配置方式，改为每个集卡活动单独配置，避免共用一个开关导致在上一个活动末期开启后，下一个活动启用时忘记了配置过这个，导致最初的卡片都被拿来抽奖的问题
2. 在示例配置文件中额外暴露两个集卡活动定制化配置
3. 修正cannot_bind_dnf拼写错误
4. 测试模式改为全局配置
5. 道聚城配置的config中默认值值改为0，避免有人直接删除这一项，却又不填

## ui调整
1. 使用彩色版图标
2. 调整console中log的显示格式，使其更加简洁，固定省去26字符宽度
3. 调整一下console配色
4. error和critical日志改为深红色

## 易用性
1. 配置工具bat中增加简要的背景知识提示
2. 调整便携版npp的注释/取消注释的快捷键为ctrl+/
3. 增加幸运角色的区服ID详细说明
4. 助手相关信息增加示例
5. 调整默认账号名称
6. 增加检测自动运行时未配置工作目录的情况
7. 展示抽卡状态时，增加提示集卡活动的截止时间
8. 增加展示抽卡所有账号汇总数据


## 测试
1. 测试逻辑突出显示账号信息
2. 测试代码增加处理禁用账号的情况
3. 分拆main函数和相关函数到两个文件，方便后续单独测试main文件的相关函数，而不必每次注释再取消注释
4. 测试函数增加一个开关，用于一键开启或关闭检查绑定和skey信息
5. 测试代码预先获取skey

## 代码调整
1. wx_checkin不再调用
2. try_request增加可选的检查函数，用于判定请求是否ok
3. 请求报错时，额外打印完整堆栈，方便得知究竟上层调用处是啥，否则直接打印异常信息时，因为在这里直接处理异常了，会导致上层的堆栈信息不打印出来
4. 增加配置接续jsonp的时候是否需要unquote
5. 请求赛利亚打工信息的时候，如果刚查询过工作日志，需要等待一会~
6. 解析jsonp的时候，右边界改为使用rindex查询，避免误处理到中间出现的分隔符

## 工具链
1. 更新pip的时候也使用豆瓣镜像
2. 调整供参考的安装依赖的批处理脚本

## 基础逻辑
1. 增加读取和更新特定账户db的逻辑

## 其他
1. 更新加群二维码



# v4.5.4 2020.12.17
## 代码重构
1. 重构ConfigInterface，并在子类中使用重构后的方法，简化相关结构体的使用流程
2. 重构集卡活动，改为配置驱动，减少日后适配新抽卡活动的工作量和降低上手难度
3. 增加启用和废弃集卡活动的流程说明

## 配置调整
1. 调整抽卡奖励的配置方式，改为配置是否领取，具体领取内容根据活动配置自动解析
2. 功能开关开启和关闭增加更明确的说明和示例
3. 由于经常有人把集卡赠送目标、赛利亚拜访目标、心悦固定队成员等QQ号数组填成数字数组，导致后续逻辑中由于类型不匹配而无法正常处理，这里兼容下，在读取完配置后都将其强制转换为字符串数组

## 新模块
1. 增加setting模块，并添加集卡的配置

## 心悦战场
1. 更新心悦活动备注
2. 调整默认配置中的心悦操作，增加各种兑换道具的示例，默认不开启

## ui
1. 增加打印运行耗时
2. 赠送卡牌的时候额外打印一下进度，更加直观

## 文档维护
1. 增加关闭功能的说明
2. 增加拒绝抬杠声明
3. 调整配置账号和手游的层级

## 其他
1. 其他软件中增加autojs脚本的说明
2. 更新readme
3. 增加账号是否处于安全模式的配置，并增加全区配置是否启用这类账户
4. 使用统一的enabled函数

# v4.5.3 2020.12.15
## 调整注释示例
1. 赠送卡片目标增加更加明确的示例
2. 赛利亚拜访活动也增加更明确的示例
3. 心悦固定队增加更明确的示例
4. 调整功能开关布局，改为按照鉴权类型来分区

## 工具链
1. 新版本时改为由脚本一起提交版本变更相关文件

# v4.5.2 2020.12.14
## 集卡
1. 调整赠送卡片的配置描述，增加描述赠送行为的基本策略
2. 若账号配置为赠送目标，则不再作为其他账号赠送卡片的来源

# v4.5.1 2020.12.14
## 活动维护
1. 适配新的集卡活动-阿拉德勇士征集令

# v4.5.0 2020.12.12
## 活动维护
1. 新增2020DNF嘉年华页面主页面签到活动

# v4.4.10 2020.12.11
## bugfix
1. 修复DNF征集令抽奖次数不刷新的问题，在QQ空间登录时额外访问两次征集令活动页面，并分别停留5秒，确保刷新抽奖次数

## autojs
1. 新增心悦app G分脚本
2. 新增wegame积分脚本
3. 微信签到脚本增加新的微信签到活动：2020DNF嘉年华派送好礼

## 代码重构
1. 抽取amesvr活动的通用构建逻辑，方便后续添加新活动，减少维护成本~

## 登录模块
1. 增加wegame登录逻辑

## 提示信息
1. 配置中关于获取助手token的注释，加上代码中给出的额外提示~
2. 额外加个不启用QQ空间登录的提示
3. readme页面增加声明
4. 调整助手信息的描述

## 活动维护
1. 移除过期的 dnf助手排行榜 活动

## 主页
1. 添加基于docsify的github pages页面

## 其他
1. 增加获取活动描述链接的注释
2. 调整changelog的层级结构
3. 调整一下等待登录iframe的默认时间
4. 增加检测助手userid的有效性
5. 增加指引auto.js相关脚本内容

## 工具链
1. 抽取更新github pages页面的逻辑
2. 抽取同步到github的逻辑

# v4.4.9 2020.12.7
## 流程调整
1. hello语音每日和每周的东西太迷你，注释掉，只保留每月的，如有需求，请自行下载源码，将hello_voice函数中对应行取消注释，然后运行main.py
2. QQ空间登录类型额外访问一下征集令活动界面（似乎抽奖次数要这样刷新？）
3. 兑换hello语音奖励时，若仍有剩余，则继续兑换
4. 新的黑钻改为使用amesvr去发送，且阉割为只有一个奖励了

## 显示调整
1. 增加打印编年史进度信息
2. 打印助力积分前刷新下积分信息
3. 整理一遍输出日志

## bugfix
1. 修复因key数据类型不对而导致获取不到抽奖次数的问题
2. 未绑定dnf角色信息时不进行征集令活动

## 其他
1. 增加绑定dnf的函数，以解决小号无法绑定dnf的问题
2. 将请求帮忙的逻辑抽象为函数，供日后使用
3. 抽象判定请求是否成功的逻辑，并新增处理hello语音的回包的情况

# v4.4.8 2020.12.6
## 声明
1. 增加一段声明，把一些基本原则先说清楚
2. 【声明】再强调一遍，这个工具首先是我自己用，然后才是分享出来给大家一起用的~核心需求是我自己会用能用，文档、教程都是为了方便各位使用而特地添加的，能起到一丝参考作用已经是很不错了。维护这个工具的时间有限，各位请将程序稳定性/功能可用性/异常崩溃等【偏程序】类的问题来作为反馈问题的主要类目，而不是配置方便性、文档准确性、视频精练度、界面美观度等【非程序类】问题。我是一个程序员，不是策划，也不是文案，更不是ui，能把程序功能做好已经很不错了。而且单就指引性信息而言，目前的文字文档、视频教程、配置文件注释、代码注释、运行时日志等已经提供了使用本工具所需要的几乎所有须知信息了。今天在论坛跟一个揪着文档不能完美描述程序运行逻辑这一点不放的人大吵了一顿，而且最后看他给出的截图，所谓的因为我没有给出多账号时账号名称不能重复这一点而浪费了半小时也完全不能成立，根据截图，明确提示了【第2个账号 默认账号 的名称与第1个账号的名称重复了，请调整为其他名称】，因为使用了默认的log.error方法，最终的色彩为暗红色，可能不太显眼，但是这并不能抵消实际已经给出了解决问题所需的完整信息这一点。今后如果再有这种事的话，我觉得可能还是我自己一个人用比较好，免得生是非=……=最后再提一小点，这真的只是单纯的分享出来给大家用，没有高人一等，也不比你低劣几分。我选择分享出来，也自然可以选择只接受特定内容的建议，你如果觉得好用，尽管去用。如果觉得哪里不好，如果是程序性逻辑问题，可以向我提issue或反馈，自然会尽力解决。如果是非程序类的问题，如配置方便性等，请自行fork一份代码去做调整，然后使用自己修改后的版本。当然如果愿意与其他人分享，也可以提一个pull request，如果真的有所改善，将会选择性合并进主干。当然，也可以选择不用哈。但是不接受就非程序类的问题来向我提意见/需求等，真的真的没有时间（别跟我说【我管你有没有时间】这种话，如果这样彼此没用沟通的必要了）。

# v4.4.7 2020.12.5
## 请求红包助力
1. 【这个更新不必强制更新，只是请求大家帮忙点下红包助力链接0-0】
2. 今天看到有个【DPL大狂欢 邀请好友拆红包】，类似于拼多多，需要找其他人在自己的邀请页面中登录并绑定角色，进度足够就可以获得一个红包了。大家可不可以帮我点一下哇0-0  点开链接后登录然后绑定角色就OK啦，提前谢谢大家啦0-0 就当是一直免费维护和更新这个小工具的小报酬啦^_^。https://dnf.qq.com/cp/a20201110packet/index.html?inviter=1054073896&&gameId=1006

## 其他
1. 检查dnf助手的userId是否误填为了昵称
2. 调整检查配置文件时的颜色，默认的红色太暗淡了-。-
3. 请求失败捕获全部异常，这样除超时外，如代理网络变更等也可以捕捉

# v4.4.6 2020.12.4
## 新活动
1. 增加支持hello语音网页礼包兑换
2. 新增autojs脚本用于完成hello语音的活动，详见主目录中【基于autojs实现的一些自动化脚本.url】链接

## 其他
1. 增加打印助力积分
2. 修复更新日志中链接串起来的问题

# v4.4.5 2020.12.3
## bugfix
1. 配置文件中补上dnf编年史的活动开关
2. 修复编年史打印的获取经验不对的问题
3. 调整助手编年史的任务奖励领取逻辑，解决签到任务无法自动领取的问题

# v4.4.4 2020.12.2
## bugfix
1. 修复在未配置助手的userId的时候也会触发dnf助手编年史相关逻辑的问题

# v4.4.3 2020.12.2
## 活动维护
1. 新增阿拉德勇士征集令活动
2. 新增dnf助手编年史活动

## 其他
1. 调整临时提示的格式

# v4.4.2 2020.11.30
## 助手token
1. 完善使用http canary获取token的步骤说明，并增加演示视频链接指引

## 其他
1. 没有鲜花时不实际进行操作

# v4.4.1 2020.11.29
## bugfix
1. 修复token填写错误时请求出错的问题

# v4.4.0 2020.11.29
## 活动维护
1. 增加dnf助手排行榜活动
2. 移除过期的qq视频活动

# v4.3.3 2020.11.27
## 活动维护
1. 移除过期的女法三觉活动

# v4.3.2 2020.11.23
## chrome
1. chrome driver和便携版升级为87版本

# v4.3.1 2020.11.20
## DNF进击吧赛利亚
1. 额外增加调用清空工作天数接口，与页面逻辑一致
2. 运行结束时额外展示打工信息和其他状态

# v4.3.0 2020.11.18
## 新活动
1. 增加DNF进击吧赛利亚活动
2. 新增配置：赛利亚活动拜访目标QQ列表

## 调试
1. post请求额外打印data，方便排查问题

# v4.2.5 2020.11.17
## 微信自动签到方案
1. 增加一个微信自动签到的方案提示，在每次运行结束的时候展示一次~

# v4.2.4 2020.11.5
## 助手token获取方式
1. 因塔罗牌活动从助手中移除了，其他活动分享链接中似乎不带token，因此提示信息中增加介绍通过https抓包来获取token的方法，供需要做助手活动的朋友来参考（在助手账号未登出的情况下，只需要操作一次即可）

# v4.2.3 2020.11.5
## 活动维护
1. 解决因dnf助手增加校验User-Agent而导致登录态失效，无法进行女法三觉活动的问题

## 提示
1. 调整未预期的异常出现时的提示语，突出显示查看是否有更新的部分

## 恰饭
1. 每周首次运行时不论是否打开展示二维码的开关，都展示一次

## 工具链
1. 接入github action，在创建新tag的时候自动触发构建发布流程，作为蓝奏云的备选项
2. 由于目前api剩余量比较充足，暂时扩大个人展示用量数据的范围，展示过去两周的使用情况统计

# v4.2.2 2020.11.1
## 移除过期活动
1. 集卡活动
2. wegame国庆活动
3. 阿拉德集合站活动

# v4.2.1 2020.10.31
## 活动调整
1. qq视频活动延期到11.22，放回来

# v4.2.0 2020.10.31
## 新活动
1. 女法三觉活动忘记加到入口里了-。-

# v4.1.9 2020.10.30
## 新活动
1. 新增DNF助手10月女法师三觉活动
2. 增加微信签到的架子（未确定如何稳定获取微信的登录态之前实际没法使用）

## 提示
1. 增加一些助手token的提示语

# v4.1.8 2020.10.29
## 活动维护
1. 管家活动过期了，启动时不需要再尝试登录管家了
2. 9月希洛克攻坚战活动过期，移除

## 活动开关
1. 增加集卡功能开关
2. 若未开启集卡，则不尝试登陆QQ空间
3. 增加道聚城、心悦特权专区、腾讯游戏信用礼包的开关

## 提示调整
1. 额外加点提示

## 抽卡
1. 额外封装一个按照卡片名字送卡片的功能

## 工具链
1. 上传文件流程增加一个统计时间日志

# v4.1.7 2020.10.27
## 提示优化
1. 下载便携版chrome压缩包加个提示

## 数据统计
1. 增加一个用于判断是否是今日首次运行的机制
2. 只在每日首次运行时尝试上报使用数据
3. 增加数据上报的提示信息

## 工具链
1. 发布脚本增加自动上传蓝奏云的机制

# v4.1.6 2020.10.26
## 数据统计
1. 默认不展示小助手使用概览，节省api调用次数（每日免费版限定3w次）
2. 移除一些不必要的数据埋点，节省api调用量

# v4.1.5 2020.10.26
## 文档
1. 增加更换领取角色的说明

## 提示信息
1. 运行结束展示一下小助手的整体使用情况

## 其他
1. 修复打包压缩包不带目录的问题

# v4.1.4 2020.10.26
## 使用统计
1. 由于国内的网络现状，改用leancloud来实现使用统计功能

# v4.1.3 2020.10.23
## 922蚊子腿
1. 移除部分已经到期的蚊子腿活动

## 教程
1. 使用文档目录调整为使用教程
2. 增加运行模式移除说明
3. 更新文档，移除部分当前版本已移除内容
4. 增加引导查看教程和提示新旧版本存档的问题

## 便利
1. 增加一个使用npp打开config.toml的快捷脚本，并添加相关说明

## 提示
1. 调整若干提示，使之更加清楚

## 配置
1. 无法绑定dnf的配置也暴露出来
2. 默认配置中赠送卡片目标QQ数组加一个示例配置

## 其他
1. 调整网盘域名


# v4.1.2 2020.10.19
## 运行模式
1. 移除运行模式配置，首次使用不再需要手动改配置，改为直接根据绑定状态来决定是否继续后续流程还是重试绑定阶段

## 抽卡
1. 根据目标账户是否有剩余可领取奖励来决定赠送最需要的卡片还是其他QQ最富余的卡片
2. 调整赠送卡片配置，支持配置多个QQ
3. 抽奖复用重试请求的逻辑，从而在出错的时候可以重试

## 最大化
1. 调整最大化的规则，改为直接去查找当前进程所处的窗口，避免最大化其他程序

## 提示
1. 修正部分提示语，表述更加准确

## 其他
1. 调整ga的捕获异常，扩大范围
2. 移除一些过期的活动

# v4.1.1 2020.10.12
## qq视频
1. 修复qq视频蚊子腿三十分钟签到和累计奖励无法领取的问题

## 流程优化
1. 登录按钮调整为3秒后点击，避免无法点击

## 提示调整
1. 整体的try的报错信息中增加打印版本信息
2. 账号概览中心悦组队增加打印固定队ID

## 重构代码
1. 封装获取固定队逻辑

# v4.1.0 2020.10.8
## qq视频
1. 修正vuserid获取不到的问题
2. qq视频的绑定提示好像有点问题，改为写一条警告日志吧
3. 屏蔽多余的请求

## 抽卡
1. 赠送完卡片后尝试抽奖
2. 抽卡相关请求加上超时

## 数据分析
1. Google Analytics上报出错时改为打印debug级别日志

# v4.0.10 2020.10.5
## 数据分析
1. 增加上报版本号信息
2. 部分内容改用pageview上报
3. 增加urlencode

# v4.0.9 2020.10.5
## 抽卡
1. 增加消耗所有卡片来抽奖的功能，并增加开关
2. 增加检查某个账户是否仍有剩余卡片但无任何剩余领奖次数，并在这种情况提示开启消耗卡片抽奖功能
3. 赠送卡片的时候从后面的号开始尝试送，默认前面的号比较重要

## qq视频
1. 调整qq视频未绑定的判定逻辑 

## 提示
1. 配置模式这里增加一个提示，配置错误的时候提示下

## 数据分析
1. 接入Google Analytics从而方便知道每日使用的人数，以及各个功能的使用情况，方便进行优化调整

# v4.0.8 2020.10.2
## 抽卡
1. 增加查询剩余被赠送次数和赠送卡片逻辑
2. 程序运行结束尝试自动赠送最需要的卡片
3. 增加配置自动赠送卡片的目标QQ

## 心悦国庆礼包
1. 修复心悦国庆礼包领取失败的问题

## bugfix
1. 修复警告开关逻辑的问题

## 其他
1. 调整打印策略，不打印改为使用log级别打印，方便后续查错

# v4.0.7 2020.9.30
## 许愿
1. 调整限制iOS王者荣耀不能许愿的逻辑
2. 调整许愿功能的配置，改为开关

# v4.0.6 2020.9.30
## 许愿
1. 限制许愿功能只能安卓版本王者荣耀使用，减少维护成本

## bugfix
1. 修复闪光杯抽奖成功时程序异常的问题
2. 修复许愿部分参数未传参的问题

## 提示
1. 增加若干提示

# v4.0.5 2020.9.30
## 9.22系列蚊子腿
1. 增加支持电脑管家蚊子腿

## 登录模块
1. 调整不同登录业务的传参方式
2. 增加支持登录电脑管家业务

## 其他
1. 增加支持解析内容为合法json格式的jsonp数据

# v4.0.4 2020.9.30
## 9.22系列蚊子腿
1. 增加希洛克攻击战活动

## 配置
1. 增加配置dnf助手相关信息，用于希洛克活动，并增加配置教程指引

# v4.0.3 2020.9.30
## 道聚城
1. 增加支持道聚城许愿

## 闪光杯
1. 增加周周闪光赢大奖
2. 修复每周出货领奖失败的问题

## 健壮性
1. 闪光杯抽奖增加等待时间

## 提示
1. 增加额外的临时提示

## 抽卡概览
1. 增加配置是否展示在概览界面的配置
2. 小号可以指定非零卡牌数目的颜色

# v4.0.2 2020.9.27
## 9.22系列蚊子腿
1. 增加阿拉德集合站活动
2. 增加2020DNF闪光杯返场赛
3. 增加腾讯视频蚊子腿

## 流程修复
1. 调整默认配置的幸运礼包抽取流程，并修正无法正确领取至尊礼包的问题
2. 非正式运行阶段不执行心悦相关操作
3. 调整调用fetch_lottery_data的时机，改为放在获取对应数据的时候去获取，从而确保数据为最新。否则目前抽卡次数啥的不会是最新值
4. 信用礼包增加等待时间

## 信息展示优化
1. wegame活动增加解析抽奖次数和智慧星数目
2. 增加支持用更多颜色显示日志
3. 特殊处理大号和小号的卡片概览，更加直观
4. headline更加显眼
5. 调整提示信息
6. 账号重点信息突出显示
7. 展示智慧星数目，并展示数据
8. 增加展示累积签到天数
9. 增加获取闪光夺宝次数，并根据该次数进行抽奖

## 登录票据相关
1. 增加获取腾讯视频vuserid用以腾讯视频的蚊子腿

## 机制变更
1. 增加支持额外附加cookie，用以支持腾讯视频蚊子腿

## 配置变更
1. 为了方便维护，将默认配置中的注释掉的第二个账号配置移除。改为提示前往查看文档
2. 移除pskey配置，手动登录不支持抽卡活动

# v4.0.1 2020.9.25
## 9.22系列蚊子腿
1. 增加wegame国庆活动，并可配置兑换道具信息
2. 可单独配置抽卡-幸运勇士的角色信息，从而可以使用其他大区的不登录账号来获得回归抽卡次数
3. 解析抽卡页面的抽卡数据，并从中提取剩余抽卡次数、各卡片当前数目、礼包剩余次数
4. 增加运行结束阶段的卡片概览功能

## 流程优化
1. 即使没dnf角色，也允许进行抽卡流程
2. pskey增加本地缓存，避免每次都重新登录QQ空间业务
3. 启动时增加检查pskey是否过期

## ui调整
1. 突出展示执行的阶段
2. 增加未绑定手游时的提示

## 重构
1. amesvr通用活动系统配置
2. 重构心悦国庆活动
3. 抽取心悦国庆判断绑定的逻辑
4. 提取功能开关配置
5. 每次尝试登陆操作的时候都重新建立chrome实例，并保证最终会销毁该实例，避免资源泄漏
6. 抽取获取pskey的逻辑，方便复用
7. 使用封装的制表函数来重新实现账号概览功能

## 工具链
1. 增加制表的辅助函数

## bugfix
1. 登录QQ空间未根据配置的登录方式来调用
2. 导入exit
3. 修复抽卡-幸运勇士无法领取的问题

# v4.0.0 2020.9.24
## 9.22系列蚊子腿
1. 新增心悦国庆活动【金秋送福 心悦有礼】
2. 新增抽卡活动【征战希洛克集卡抽战灵天舞套！】

## 登录方式
1. 增加支持QQ空间登录，用于实现抽卡所需的qq空间业务的pskey

## 配置
1. 增加qq空间pskey的设置
2. 增加配置是否领取集卡礼包，从而可以让小号不领取
3. 增加配置是否领取新月国庆活动

## bugfix
1. 解决带空格的路径无法正常处理的问题

## 健壮性
1. 腾讯游戏信用的经常出错，加个异常保护

# v3.0.2 2020.9.19
## 显示优化
1. 心悦操作完成后，增加打印心悦组队进度
2. 增加多种提示信息
3. 增加打印聚豆余额变化
4. 抽取main函数，并增加最上层异常保护，保证最终的system pause会被处理
5. 启动和结束时额外打印概览信息
6. 调整各区块操作的提示信息

## 流程调整
1. 心悦组队奖励统一放到所有账户操作完毕后再执行。避免出现队伍中处理前面角色时队伍进度还不够，而后面的进度够了，导致这次执行只有后面的角色领了组队奖励
2. 最开始统一检查一遍skey

## 文档
1. 更新文档

## 其他
1. 增加发布config.toml.example

# v3.0.1 2020.9.18
## 手游配置
1. 进一步降低配置复杂度，增加手游配置值：任意手游，并设为默认值，将从道聚城绑定的任意手游中任意挑选一个

# v3.0.0 2020.9.17
## 文档
1. 更新使用文档，包含所有现有功能，可打开了解相关信息

## 流程
1. 调整配置角色信息的方式，只需配置手游名即可。新的数据来源为道聚城绑定的角色信息，所以需要自行前往道聚城app将dnf和所选手游的角色绑定为需要的角色
2. 移除原有获取角色信息的配置和相关流程
3. 调整预处理阶段流程

## 手游签到
1. 修改手游签到的参数来源，避免部分情况下签到失败的问题

## 行为
1. 启动时默认最大化，方便查看输出信息

## 文案
1. 更新配置和代码中的部分文案，更加易懂

## 代码重构
1. 调整代码，增加可读性
2. 将全部url移到单独的类中，方便后续管理

## 配置
1. 将普通玩家用不到的配置移除，减少信息量。并另建一个示例配置文件，其中展示所有可配置的配置项

## 其他
1. 加入便携版notepad++，用以打开配置文件等方便编辑
2. 打开配置文件的时候跳转到合适的位置

# v2.0.8 2020.9.15
## 手游签到
1. 支持选择道聚城内任意手游来作为每日签到对象，从而完成礼包达人的任务

## 信用礼包
1. 新增腾讯游戏信用礼包
2. 新增信用星级礼包

## 流程优化
1. 预处理模式下顺带帮忙打开对应参考文件和配置文件，无需手动打开

## 显示
1. 调整格式，使结果更直观

## 工具链
1. 发布脚本添加默认版本号，方便使用

## 杂
1. 增加wegame相关接口，用于获取dnf角色相关信息，有兴趣的可以自行源码运行
2. 发布内容不再发布py文件，改为源码链接，使目录更清爽
3. 每次正式模式运行时默认弹出打赏图片，可配置关闭

# v2.0.7 2020.9.12
## 黑钻
1. 新增领取每月黑钻等级礼包

## 配置
1. 增加配置http的超时参数，并进行重试，避免特定请求卡住
2. 调整配置项名称为重试配置，更符合其实际使用场景

# v2.0.6 2020.9.10
## 手游
1. 手游增加支持和平精英（by ☞ Sync.Nep）

## 心悦
1. 增加查询心悦道具信息

## 配置
1. 增加配置是否不显示浏览器界面，主要用于自动登录模式

## 其他
1. 调整小队默认配置，明确指出要填入的是QQ号

# v2.0.5 2020.9.8
## bugfix
1. 不满10位的qq的uin会在左侧补零，从uin中获取qq的时候需要把左侧的0移除，否则本地判断心悦固定队的逻辑会出问题
2. 手游领奖增加设置系统信息，否则无法领取ios的奖励

## 配置调整
1. 增加一个全局配置，可限定提交心悦任务的最早时间，默认0点，可以自行调整

# v2.0.4 2020.9.7
## 心悦组队
1. 调整判断本地心悦队伍ID过期时的逻辑判断，原逻辑中本地心悦队伍过期的逻辑有问题-。-
2. 目前基本确定现在任务不能重复完成了。所以调整默认配置，按照双倍最高、普通最高、免做最高、普通2点和1点的任务来作为默认配置
3. 调整加入固定队的时机，改在所有账号正式模式下操作前执行，避免队伍未满时先把心悦任务给做了-。-


# v2.0.3 2020.9.6
## 心悦组队
1. 新增山寨版心悦组队功能，需本地至少配置三个账号，并在全局配置中设置固定队信息，可在config.toml中搜索【固定队】，查看配置方式
2. 可配置小号领取每周一次的免做卡，并完成【心悦活动备注.txt】中的任意一个免做任务，这样大号可以少做两次任务。并且可以尝试完成邮箱无邮件那个任务

## 其他
1. 打印结果增加unquote，方便查看

# v2.0.2 2020.9.6
## 行为优化
1. 增加根据心悦级别来设置lqlevel参数，从而解决心悦1/2/3无法领取奖励的问题
2. 调整周期礼包的领取逻辑，改为根据心悦等级和白名单信息来决定领取对应礼包
3. 注释原有周期礼包的配置，若发现周期礼包逻辑有问题，可以自行打开
4. 默认配置增加自动查询和领取组队奖励

## 文档说明
1. 心悦备注文档中增加白名单礼包的信息和小队相关接口的信息

# v2.0.1 2020.9.6
## 行为优化
1. 回滚最大化的代码，在不同分辨率的机器上表现会不同，会导致元素无法定位到，还是固定大小吧-。-
2. 任意登录异常均重试

# v2.0.0 2020.9.6
## 心悦活动
1. 增加支持心悦相关操作及配置
2. 更名为DNF蚊子腿小助手

## 登录流程
1. 抽象登录流程，并增加心悦界面登录支持

## 行为优化
1. 兑换道具增加一些行为控制参数，用以控制相关等待和重试行为，避免因请求过快而报错
2. 优化使用浏览器进行登录的流程
3. 特定异常情况下增加重试

## 显示优化
1. 开头额外打印整体的启用状况
2. 添加绑定提示
3. 增加未绑定手游角色的提示
4. 请求结果通过判断错误码来决定使用不同的日志等级输出日志
5. 调整日志格式，在命令行增加着色支持，使结果看上去更美观-。-
6. 增加登录相关提示
7. 增加展示本次操作获得的豆子变动情况

## 配置调整
1. 将部分配置拿出来作为公用配置，方便后续维护
2. 增加检查配置的name字段
3. 增加隐藏配置项，可配置是否展示chrome的debug日志，默认不展示，ui好看一些-。-本地出现异常问题的时候再打开
4. 调整qqlogin的配置传入方式
5. 调整调试开关的位置

## 工具链
1. 编译脚本增加安装依赖库和pyinstaller
2. 改用venv维护
3. 编译构建脚本增加使用log模块
4. 构建步骤在原目录进行，方便后面使用venv
5. 更新编译脚本，默认使用venv
6. 更新依赖，解决找不到win32api的问题

# v1.0.3 2020.9.3
## 新功能
1. 支持多账号

## 文档
1. 增加多账号操作的文档

## 其他
1. 调整首次运行和缓存内容的保存位置
2. 启动时增加打印版本信息和作者信息

# v1.0.2 2020.9.2
## bugfix
1. 增加64位的便携版bandizip和chrome，并在系统无合适版本的chrome的情况下尝试解压调用便携版chrome
2. 调整配置顺序，之前后面几个全局配置项被归到login_timeouts中去了

## 流程优化
1. 检查更新改为放在其他流程完成之后，避免启动时卡住。目前自动登录是依赖于访问github相关页面，国内的网络无代理访问github经常会卡住。
2. 调整登陆阶段的默认最大等待时间，改为10分钟
3. 程序运行完毕增加提示
4. 增加可配置强制使用打包附带的便携版chrome的功能
5. 更新增加超时
6. 增加登录时长提示
7. 角色信息分行打印，方便复制
8. 增加无角色信息时的提示

## 工具脚本
1. 增加安装依赖的快捷脚本
2. 增加简单的编译脚本

# v1.0.1 2020.9.1
## 其他登录模式
1. 增加基于Selenium实现的扫码登录和自动登录
2. 增加配置登录相关超时信息
3. 默认登录方式调整为二维码登录
4. 增加新的登录方式的文档

## bugfix
1. 调整下角色信息中角色名的正则表达式，避免无法匹配含～∷等字符的名字
2. 提示信息增加fallback的js代码，已处理部分不兼容的浏览器

# v1.0.0 2020.8.31
## 初次版本
1. 支持手动登录
2. 增加道聚城自动化活动的支持
3. 增加配置文件的支持
4. 增加检查更新的支持
5. 增加指引模式
6. 增加各种配置
7. 增加各种权责声明
8. 增加说明文档和视频教程
9. 增加skey的过期检查